{% extends 'base.html' %}

{% block recursos %}

        <!-- DataTables CSS -->
        <link rel="stylesheet" type="text/css" href="/static/DataTables/media/css/jquery.dataTables.css">



        <!-- jQuery -->
        <script type="text/javascript" charset="utf8" src="/static/DataTables/media/js/jquery.js"></script>

        <!-- DataTables -->
        <script type="text/javascript" charset="utf8" src="/static/DataTables/media/js/jquery.dataTables.js"></script>




{% endblock %}


{%  block contenido%}
    <br/>
<div class="row">

          <div class="col-xs-12">

              <!-- Nav tabs -->
                <ul class="nav nav-tabs" role="tablist">
                  <li role="presentation" class="active"><a href="#puertas" role="tab" data-toggle="tab">Puertas</a></li>
                  <li role="presentation"><a href="#usuarios" role="tab" data-toggle="tab">Usuarios</a></li>
                  <li role="presentation"><a href="#informacion" role="tab" data-toggle="tab">Mi Información</a></li>
                    <li class="pull-right" ><a href="/cerrarSesion/" >CERRAR SESION</a></li>

                </ul>

                <!-- Tab panes -->
                <div class="tab-content">
                  <div role="tabpanel" class="tab-pane fade in active" id="puertas">
                      <br/>
                      <div class="row">

                          <a href="/direccion/">
                          <div class="col-md-4" align="center"><img class="img-responsive" src="/static/img/lab1.png" alt="lab1"/></div>
                          </a>

                          <div class="col-md-4" align="center"><img class="img-responsive" src="/static/img/lab2.png" alt="lab1"/></div>

                          <div class="col-md-4" align="center"><img class="img-responsive" src="/static/img/lab3.png" alt="lab1"/></div>

                      </div>

                      <br/>
                      <div class="row">
                          <div class="col-md-4" align="center"><img class="img-responsive" src="/static/img/lab4.png" alt="lab1"/></div>

                          <div class="col-md-4" align="center"><img class="img-responsive" src="/static/img/lab5.png" alt="lab1"/></div>

                          <div class="col-md-4" align="center"><img class="img-responsive" src="/static/img/lab6.png" alt="lab1"/></div>

                      </div>

                      <br/>
                      <div class="row">
                          <div class="col-md-4" align="center"><img class="img-responsive" src="/static/img/telecomunicaciones.png" alt="lab1"/></div>

                          <div class="col-md-4" align="center"><img class="img-responsive" src="/static/img/mac.png" alt="lab1"/></div>

                          <div class="col-md-4" align="center"><img class="img-responsive" src="/static/img/electronica.png" alt="lab1"/></div>



                      </div>

                      <br/>
                      <div class="row">
                          <div class="col-md-4" align="center"><img class="img-responsive" src="/static/img/direccion.png" alt="lab1"/></div>

                          <div class="col-md-4" align="center"><img class="img-responsive" src="/static/img/ciditec.png" alt="lab1"/></div>

                          <div class="col-md-4" align="center"><img class="img-responsive" src="/static/img/administradorTecnico.png" alt="lab1"/></div>



                      </div>

                  </div>









                  <div role="tabpanel" class="tab-pane fade" id="usuarios">

                      <br/>
                        <button class="btn btn-primary" data-toggle="modal" data-target="#myModalIngresar">Ingresar Nuevo Usuario </button>
                      <br/> <br/>


                        <div class="table-responsive">
                                <table class="table table-striped table-content table-bordered table-hover " xmlns="http://www.w3.org/1999/html" id="table_id">

                                <thead class="btn-primary cabeceraTabla">
                                <th>ID</th>
                                <th>NOMBRE</th>
                                <th>APELLIDO</th>
                                <th>USUARIO</th>
                                <th>PASSWORD</th>
                                <th style="text-align: center">ACCIONES</th>
                                </thead>

                                <tbody>


                                    {% for i in usuarios %}

                                        <tr>
                                        <td id="{{ i.id_personal }}">{{i.id_personal}}</td>
                                        <td id="{{i.id_personal}}">{{i.nombre}}</td>
                                        <td id="{{i.id_personal}}">{{i.apellido}}</td>
                                        <td id="{{i.id_personal}}">{{i.username}}</td>
                                        <td id="{{i.id_personal}}">{{i.clave}}</td>

                                    {% comment %} <td><button class="btn btn-success" id="Guardar" onclick="editarRegistro({{ i.codigo_terrateniente }})">Editar</button></td>{% endcomment %}
                                        <td>
                                        <button  id ="Editar" onclick="editarRegistro({{ i.id_personal }})" class="btn btn-success" data-toggle="modal" data-target="#myModalEditar">
                                        Editar
                                        </button>

                                        <button  id ="Eliminar" onclick="eliminarRegistro()" class="btn btn-danger" data-toggle="modal" data-target="#myModalEliminar">
                                        Eliminar
                                        </button>

                                        </td>



                                        </tr>



                                {% endfor %}
                                </tbody>
                            </table>
                        </div>


                  {% for i in lista %}

                    {{ i }}
                  {% endfor %}




                  </div>













                  <div role="tabpanel" class="tab-pane fade" id="informacion">3</div>

                </div>
          </div>


</div>




    <div class="modal fade" id="myModalIngresar" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
        <h4 class="modal-title" id="myModalLabel">Nuevo Usuario</h4>
      </div>
      <div class="modal-body">

<form method="POST" action="/ingresarUsuario/" class="well"  role="form" >

<div class="row">
    <div class="col-md-6">
            <div class="form-group">
                <label for="idNombre">Nombre</label>
                <input type="text" name="nombre" class="form-control" id="idNombre"  required>
            </div>
    </div>
    <div class="col-md-6">
            <div class="form-group">
                <label for="idApellido" >Apellido</label>
                <input type="text"  name="apellido" class="form-control" id="idApellido"  required>
            </div>
    </div>
</div>
<div class="row">
    <div class="col-md-12">
    <p style="color: red"> Escoja bien nombre de usuario, no podrá ser cambiado.</p>
        </div>
</div>
<div class="row">
    <div class="col-md-6">
        <div class="form-group">
            <label for="idUsername">Username</label>
            <input type="text" name="username2" class="form-control" id="idUsername"  required>
        </div>
    </div>

    <div class="col-md-6">
        <div class="form-group">
            <label for="idPassword">Password</label>
            <input type="password"  name="passwd2" class="form-control" id="idPassword"  required>
        </div>
    </div>
</div>


<div class="row">

    <div class="col-md-3">
    <label><input type="checkbox" name="lab1" value="lab1">&nbsp;Lab.1</label>
    </div>

    <div class="col-md-3">
    <label><input type="checkbox" name="lab2" value="lab2">&nbsp;Lab.2</label>
    </div>

    <div class="col-md-3">
    <label><input type="checkbox" name="lab3" value="lab3">&nbsp;Lab.3</label>
    </div>

    <div class="col-md-3">
    <label><input type="checkbox" name="lab4" value="lab4">&nbsp;Lab.4</label>
    </div>

</div>

<div class="row">

    <div class="col-md-3">
    <label><input type="checkbox" name="lab5" value="lab5">&nbsp;Lab.5</label>
    </div>

    <div class="col-md-3">
    <label><input type="checkbox" name="lab6" value="lab6">&nbsp;Lab.6</label>
    </div>

    <div class="col-md-3">
    <label><input type="checkbox" name="telecomunicaciones" value="telecomunicaciones">&nbsp;Telecom...</label>
    </div>

    <div class="col-md-3">
    <label><input type="checkbox" name="mac" value="mac">&nbsp;MAC</label>
    </div>

</div>

<div class="row">

    <div class="col-md-3">
    <label><input type="checkbox" name="direccion" value="direccion">&nbsp;Dirección</label>
    </div>

    <div class="col-md-3">
    <label><input type="checkbox" name="electronica" value="electronica">&nbsp;Electrónica</label>
    </div>

    <div class="col-md-3">
    <label><input type="checkbox" name="ciditec" value="ciditec">&nbsp;CIDITEC</label>
    </div>

    <div class="col-md-3">
    <label><input type="checkbox" name="administradorTecnico" value="administradorTecnico">&nbsp;Adm Técnico</label>
    </div>

</div>


      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Cerrar sin guardar</button>
        <button type="submit" class="btn btn-primary">Guardar Cambios</button>
          </div>
          </form>

      </div>
    </div>
  </div>

</div>



<script>
$(document).ready( function () {
    $('#table_id').DataTable();
} );

function editarRegistro(idUsuario){


    // Creamos el formulario auxiliar
var form = document.createElement( "form" );

// Le añadimos atributos como el name, action y el method
form.setAttribute( "name", "formulario" );
form.setAttribute( "action", "/usuarioEspecifico/" );
form.setAttribute( "method", "post" );

// Creamos un input para enviar el valor
var input = document.createElement( "input" );

// Le añadimos atributos como el name, type y el value
input.setAttribute( "name", "idUsuario" );
input.setAttribute( "type", "hidden" );
input.setAttribute( "value", idUsuario );

// Añadimos el input al formulario
form.appendChild( input );

// Añadimos el formulario al documento
document.getElementsByTagName( "body" )[0].appendChild( form );

// Hacemos submit
document.formulario.submit();

}
</script>


{% endblock %}